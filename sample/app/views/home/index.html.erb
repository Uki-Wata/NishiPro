<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.83.1">
  <title>Sidebars · Bootstrap v5.0</title>

  <link rel="canonical" href="https://getbootstrap.jp/docs/5.0/examples/sidebars/">

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <!-- Favicons -->
  <link rel="apple-touch-icon" href="/docs/5.0/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="manifest" href="/docs/5.0/assets/img/favicons/manifest.json">
  <link rel="mask-icon" href="/docs/5.0/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
  <link rel="icon" href="/docs/5.0/assets/img/favicons/favicon.ico">
  <meta name="theme-color" content="#7952b3">
  
  <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
  </style>

    
  <!-- Custom styles for this template -->
  <link href="sidebars.css" rel="stylesheet">
</head>

<div class="title-box">
  <div style="text-align:center", class='font_test'>
    <h1><p class="moji-color"><b>PlusSEC</b></p></h1>
  </div>
</div>

<div style="text-align:right">
  <p>※ブラウザの「戻る」「進む」ボタンを押さないでください</p>
</div>

<div class="container-fluid">
    <div class="row flex-nowrap">
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0 bg-dark">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 text-white min-vh-100">
                <a href="/" class="d-flex align-items-center pb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                    <span class="fs-5 d-none d-sm-inline">Menu</span>
                </a>
                <ul class="nav nav-pills flex-column mb-sm-auto mb-0 align-items-center align-items-sm-start" id="menu">
                    <li>
                        <a href="/index" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-speedometer2"></i> <span class="ms-1 d-none d-sm-inline">業務から検索</span> </a>
                    </li>
                    <li>
                        <a href="/index_inc/incidents" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-table"></i> <span class="ms-1 d-none d-sm-inline">事故事例から検索</span></a>
                    </li>
                    <li>
                        <a href="/index_kno/index" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-table"></i> <span class="ms-1 d-none d-sm-inline">セキュリティ知識</span></a>
                    </li>
                    <li>
                        <!-- /home/topへ -->
                        <a href="/home/top" class="nav-link align-middle px-0">
                            <i class="fs-4 bi-house"></i> <span class="ms-1 d-none d-sm-inline">ホームへ</span>
                        </a>
                    </li>
                    
                    <!-- 参考で残してる -->
                    <!--
                    <li>
                        <a href="#submenu3" data-bs-toggle="collapse" class="nav-link px-0 align-middle">
                            <i class="fs-4 bi-grid"></i> <span class="ms-1 d-none d-sm-inline">参考</span> </a>
                            <ul class="collapse nav flex-column ms-1" id="submenu3" data-bs-parent="#menu">
                            <li class="w-100">
                                <a href="#" class="nav-link px-0"> <span class="d-none d-sm-inline">参考</span> 1</a>
                            </li>
                            <li>
                                <a href="#" class="nav-link px-0"> <span class="d-none d-sm-inline">参考</span> 2</a>
                            </li>
                        </ul>
                    </li>
                    -->
                    
                </ul>
                <hr>
            </div>
        </div>

        <!--searchページに飛ばす-->
          <%= form_tag(search_path, method: "get") do %>
          
              <!--大項目をループで繰り返し表示-->
              <% @bigs.first(2).each do |big| %>
                <div class="p-2 flex-grow-1 bd-highlight">
                    <div class="big">
                      <h2><%= big.memo %></h2>
                      <!--中項目をループで繰り返し表示-->
                      <% big.middles.each do |middle| %>
                        
                        <div class="middle" >
                          <!--中項目のチェックボックスを表示-->
                          <h5>
                            &nbsp;&nbsp;&nbsp;<%= middle.memo %>
                          </h5>
                          <!--全選択-->
                          <!--<input type="checkbox" id="check_all">全て選択
                          
                          <!--小項目をループで繰り返し表示-->
                          <% middle.smalls.each do |small| %>
                            <div class="px-4 flex-grow-1 bd-highlight">
                              <div class="small">
                                <!--小項目のチェックボックスとラベル表示-->
                                <label>
                                  &nbsp;&nbsp;
                                  <%= check_box_tag 'small_ids[]', small.id %>
                                  <%= small.memo %>
                                </label>
                              </div>
                            </div>
                          <% end %>
                        </div>
                      <% end %>
                    </div>
                    </div>
              <% end %>
          
              <!--大項目をループで繰り返し表示-->
                <% @bigs.last(2).each do |big| %>
                  <div class="p-2 flex-grow-1 bd-highlight">
                    <div class="big">
                      <h2><%= big.memo %></h2>
                      <!--中項目をループで繰り返し表示-->
                      <% big.middles.each do |middle| %>
                        
                        <div class="middle" >
                          <!--中項目のチェックボックスを表示-->
                          <h5>
                            &nbsp;&nbsp;&nbsp;<%= middle.memo %>
                          </h5>
                          <!--全選択-->
                          <!--<input type="checkbox" id="check_all">全て選択
                          
                          <!--小項目をループで繰り返し表示-->
                          <% middle.smalls.each do |small| %>
                            <div class="px-4 flex-grow-1 bd-highlight">
                              <div class="small">
                                <!--小項目のチェックボックスとラベル表示-->
                                <label>
                                  &nbsp;&nbsp;
                                  <%= check_box_tag 'small_ids[]', small.id %>
                                  <%= small.memo %>
                                </label>
                              </div>
                            </div>
                          <% end %>
                        </div>
                      <% end %>
                    </div>
                    </div>
                <% end %>
            
            <!--<%= submit_tag('業務検索', class: 'btn btn-outline-primary') %>-->
            <%= submit_tag('検索', class: 'btn-outline-primary fixed_btn') %>
          
          <% end %>

    </div>
</div>

<!-- scriptゾーン -->
<!-- 選択された要素を格納するscript -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // フォーム要素を取得
  const form = document.getElementById('search-form');
  // チェックボックス要素を取得
  const checkboxes = form.querySelectorAll('input[type=checkbox]');
  // hidden要素を生成
  const hiddenInput = document.createElement('input');
  // hidden要素のタイプを指定
  hiddenInput.type = 'hidden';
  // hidden要素のname属性を指定
  hiddenInput.name = 'small_ids';
  // hidden要素をフォームに追加
  form.appendChild(hiddenInput);
  
  // フォームの送信時に実行する処理
  form.addEventListener('submit', function(event) {
    // チェックが入っているcheckbox要素のみを選択
    const selectedCheckboxes = Array.from(checkboxes).filter(checkbox => checkbox.checked);
    // 選択されたcheckbox要素のvalueを抽出して配列にする
    const selectedIds = selectedCheckboxes.map(checkbox => checkbox.value);
    // hidden要素のvalueに選択されたcheckbox要素のvalueをカンマ区切りで格納する
    hiddenInput.value = selectedIds.join(',');
  });
});
</script>

<script>
  //「全て選択」のチェックボックス
  let checkAll = document.getElementById("checkAll");
  //「全て選択」以外のチェックボックス
  let el = document.getElementsByClassName("checks");
  //全てのチェックボックスをON/OFFする
  const funcCheckAll = (bool) => {
      for (let i = 0; i < el.length; i++) {
          el[i].checked = bool;
      }
  }
  //「checks」のclassを持つ要素のチェック状態で「全て選択」のチェック状態をON/OFFする
  const funcCheck = () => {
      let count = 0;
      for (let i = 0; i < el.length; i++) {
          if (el[i].checked) {
              count += 1;
          }
      }
  
      if (el.length === count) {
          checkAll.checked = true;
      } else {
          checkAll.checked = false;
      }
  };
  //「全て選択」のチェックボックスをクリックした時
  checkAll.addEventListener("click",() => {
      funcCheckAll(checkAll.checked);
  },false);
  
  //「全て選択」以外のチェックボックスをクリックした時
  for (let i = 0; i < el.length; i++) {
      el[i].addEventListener("click", funcCheck, false);
  }
</script>

<script>
  function toggleCheckboxes() {
    var checkboxes = document.querySelectorAll('input[type="checkbox"]');
    var selectAllCheckbox = document.getElementById('selectAll');
    for (var i = 0; i < checkboxes.length; i++) {
      checkboxes[i].checked = selectAllCheckbox.checked;
    }
  }
</script>
